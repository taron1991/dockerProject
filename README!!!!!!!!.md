FROM openjdk:17-alpine
#копируем целиком(там много файлов) папку из локалки внутрь контейнера
COPY /target /target
#запускаем джарник изнутри контейнера,не можем просто написать /target т.к внутри много папок а пишем конкретно jar
CMD ["java","-jar","/target/DeleteDocker-1.0-SNAPSHOT.jar"]

#RUN npm install
#это установка(скачивание) каких-то файлов или программ!!(во время сборки образа создается)
#Например хотим приготовить пирог с яблоками
# From - основное тесто
# RUN - нарезать яблоко
# ADD - Основное различие между(COPY) ними заключается в том, что команда "ADD" также поддерживает автоматическую распаковку файлов
# WORKDIR - раб папка

#docker build -t app . построй образ этот и ищи его (докерфайл) в текущей директории
#docker run -p 8080:8080 app
#!!!!!!!Port mapping (отображение портов) используется для установления связи между локальным приложением
#на вашем компьютере и приложением, запущенным внутри контейнера Docker.
#Вот представь у нас есть spring rest приложение и есть метод save(request body) вот вопрос а как мне передать
#обьект request body? тоесть есть контейнер докер и все!запросы я буду делать сам!!!!!!!на локальном компьютере!!
#так а как сделать так чтобы мои запросы с локалки шли в контейнер(spring rest) и они обрабатывались??
#создать port mapping  8080:8081(внутрь) ОТНЫНЕ мои запросы с локалки(postman) пойдут на порт 8081 внутри контейнера
#без этого наша локалка не поймет куда отправлять запросы так как не знает порт контейнера
#Процесс выглядит примерно так:
#Вы отправляете HTTP POST запрос из Postman с данными пользователя на адрес вашего Spring Boot приложения (например, http://localhost:8080/users) с локального компьютера.
#Запущенный контейнер Docker, в котором работает ваше Spring Boot приложение, прослушивает порт 8080 (или другой порт, который вы настроили) и получает этот HTTP запрос.
#Spring Boot приложение внутри контейнера обрабатывает запрос, извлекает данные пользователя из request body и выполняет соответствующие действия, например, сохранение пользователя в базе данных.

#Команда COPY в Docker можно сравнить с процессом копирования
#файлов с USB-накопителя на ваш компьютер. Вы берете файлы с USB-накопителя и копируете их на жесткий диск компьютера,
#чтобы они стали доступны для использования на вашем компьютере.


#с помощью команды CMD указывается команда, которая будет выполнена при запуске контейнера.
#В данном случае, при запуске контейнера будет
#выполнена команда "java -jar /target/DeleteDocker-1.0-SNAPSHOT.jar"
# dockerProject
